<span class="chip @(IsSelected ? "selected" : "")" 
      style="@GetStyle()"
      @onclick="OnChipClick">
    @Tag.Title
</span>

@code {
    [Parameter, EditorRequired] public Tag Tag { get; set; } = default!;
    [Parameter] public bool IsSelected { get; set; }
    [Parameter] public EventCallback<Tag> OnClick { get; set; }

    private string GetStyle()
    {
        var baseStyle = "cursor: pointer; padding: 0.25rem 0.75rem; border-radius: 16px; font-size: 0.875rem; display: inline-block;";
        if (IsSelected)
        {
            return $"background-color: {Tag.Color}; color: white; {baseStyle}";
        }
        return $"background-color: var(--md-sys-color-surface-variant); color: var(--md-sys-color-on-surface-variant); {baseStyle}";
    }

    private async Task OnChipClick()
    {
        await OnClick.InvokeAsync(Tag);
    }
}
