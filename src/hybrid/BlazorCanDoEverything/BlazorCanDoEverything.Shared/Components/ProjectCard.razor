<div class="card" style="width: 200px; min-height: 150px; cursor: pointer;" @onclick="OnCardClick">
    <div class="flex flex-col gap-2" style="height: 100%;">
        <h5 style="margin: 0; font-size: 1.1rem; font-weight: 500;">@Project.Name</h5>
        <p style="margin: 0; opacity: 0.7; font-size: 0.9rem;">@Project.Description</p>
        <div style="flex: 1;"></div>
        <div class="flex flex-row flex-wrap gap-1">
            @if (Project.Tags != null)
            {
                @foreach (var tag in Project.Tags.Take(3))
                {
                    <span class="chip" style="background-color: @tag.Color; color: white; padding: 0.125rem 0.5rem; border-radius: 12px; font-size: 0.75rem;">
                        @tag.Title
                    </span>
                }
            }
        </div>
        <span style="font-size: 0.75rem; opacity: 0.6;">
            @(Project.Tasks?.Count ?? 0) tasks
        </span>
    </div>
</div>

@code {
    [Parameter, EditorRequired] public Project Project { get; set; } = default!;
    [Parameter] public EventCallback<Project> OnClick { get; set; }

    private async Task OnCardClick()
    {
        await OnClick.InvokeAsync(Project);
    }
}
