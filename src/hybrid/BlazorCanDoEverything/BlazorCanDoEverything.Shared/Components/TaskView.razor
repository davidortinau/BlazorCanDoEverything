<div class="card" style="padding: 0.75rem;">
    <div class="flex flex-row items-center gap-2">
        <MBCheckbox @bind-Value="@Task.IsCompleted" 
                    @bind-Value:after="OnCompletedChanged" />
        <div class="flex flex-col flex-1" style="cursor: pointer;" @onclick="OnTaskClick">
            <span style="@(Task.IsCompleted ? "text-decoration: line-through; opacity: 0.6;" : "")">
                @Task.Title
            </span>
        </div>
    </div>
</div>

@code {
    [Parameter, EditorRequired] public ProjectTask Task { get; set; } = default!;
    [Parameter] public EventCallback<ProjectTask> OnCompleted { get; set; }
    [Parameter] public EventCallback<ProjectTask> OnClick { get; set; }

    private async Task OnCompletedChanged()
    {
        await OnCompleted.InvokeAsync(Task);
    }

    private async Task OnTaskClick()
    {
        await OnClick.InvokeAsync(Task);
    }
}
